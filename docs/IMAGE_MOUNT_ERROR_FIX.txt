â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 âš ï¸ FEHLERDIAGNOSE: IMAGE-MOUNT FEHLGESCHLAGEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”´ FEHLER:
   losetup: failed to set up loop device
   : Datei oder Verzeichnis nicht gefunden
   âœ— Konnte Loop-Device nicht erstellen

ğŸ¯ URSACHE:
   **KEINE ROOT-RECHTE!**
   
   Der Scanner benÃ¶tigt sudo/root um:
   â€¢ Loop-Devices zu erstellen (losetup)
   â€¢ Images zu mounten (mount)
   â€¢ Devices zu mounten (/dev/sdX)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 âœ… LÃ–SUNG
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

IN DER GUI:

1. â˜‘ "Mit Root (pkexec) fÃ¼r Auto-Mount" AKTIVIEREN!
   
2. Scan erneut starten
   
3. Passwort eingeben (pkexec-Dialog erscheint!)
   
4. Scanner lÃ¤uft jetzt mit Root-Rechten
   â†’ losetup funktioniert
   â†’ Image wird gemountet
   â†’ Inhalt wird gescannt

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ”§ WARUM IST DAS NÃ–TIG?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Loop-Device-Erstellung:
   $ losetup /dev/loop0 image.img
   â†’ Braucht root (privileged operation)

Mount-Operation:
   $ mount /dev/loop0 /mnt/point
   â†’ Braucht root (nur root darf mounten)

Device-Zugriff:
   $ mount /dev/sdb1 /mnt/point
   â†’ Braucht root (Blockdevice-Zugriff)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ§ª TEST: PRÃœFE ROOT-RECHTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ohne Root:
   $ losetup /dev/loop0 test.img
   losetup: /dev/loop0: Permission denied  â† FEHLER!

Mit Root (pkexec):
   $ pkexec losetup /dev/loop0 test.img
   [Passwort-Dialog]
   â†’ Erfolg! âœ“

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ“‹ DEINE SITUATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Datei: volume_disk_2025-10-06-1346.img (238 GB)
ROOT: /mnt/mediacenter1/sido
Scanner: wallet_harvest_any.sh (dann hrm_swarm_scanner_wrapper.sh)

Beide Versuche gescheitert mit:
   âœ— "failed to set up loop device"
   âœ— "Konnte Loop-Device nicht erstellen"

Grund: Checkbox "Mit Root" war NICHT aktiviert!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 âœ… SCHRITT-FÃœR-SCHRITT FIX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. GUI Ã¶ffnen (falls nicht schon offen)

2. PrÃ¼fe aktuelle Einstellungen:
   â˜ Aggressiv
   â˜ Staging anlegen (Symlinks)
   â˜ Mit Root (pkexec) fÃ¼r Auto-Mount  â† MUSS â˜‘ SEIN!
   â˜‘ Auto-Mount fÃ¼r Images/Devices

3. Aktiviere "Mit Root (pkexec)":
   â˜‘ Mit Root (pkexec) fÃ¼r Auto-Mount  â† JETZT AKTIVIERT!

4. Scan erneut starten

5. Passwort-Dialog erscheint:
   [pkexec Password Dialog]
   Password: ********
   [OK]

6. Scanner lÃ¤uft mit Root:
   >> mount-versuch: volume_disk_2025-10-06-1346.img
   âœ“ Loop-Device erstellt: /dev/loop0
   âœ“ Mounten: /dev/loop0 â†’ /mnt/.../autoscan_XX
   âœ“ Scanning...

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ¯ WICHTIG: ROOT-CHECKBOX ERKLÃ„RT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Checkbox-Name:
   "Mit Root (pkexec) fÃ¼r Auto-Mount"

Was macht sie:
   â†’ Startet Scanner mit: pkexec <scanner> <args>
   â†’ Passwort-Dialog erscheint
   â†’ Scanner lÃ¤uft mit Root-Rechten
   â†’ losetup/mount funktionieren
   â†’ Auto-Mount fÃ¼r Images/Devices mÃ¶glich

Wann AKTIVIEREN:
   âœ… Images scannen (.img, .iso, .dd)
   âœ… Devices scannen (/dev/sdX)
   âœ… GeschÃ¼tzte Dateien lesen
   âœ… Auto-Mount nutzen

Wann NICHT aktivieren:
   âŒ Nur Ordner scannen (bereits gemountet)
   âŒ Keine Images/Devices
   âŒ Sicherheitsbedenken

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ”’ SICHERHEIT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

pkexec ist sicher:
   âœ“ Offizielles PolicyKit-Tool
   âœ“ Passwort-Abfrage (nicht gespeichert!)
   âœ“ Nur fÃ¼r diese Operation
   âœ“ Kein sudo-Missbrauch mÃ¶glich

Scanner-Verhalten:
   âœ“ Read-only Mounts (keine Schreibzugriffe!)
   âœ“ Automatisches Cleanup (unmount + losetup -d)
   âœ“ Keine SystemÃ¤nderungen
   âœ“ Keine Daten-Modifikation

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ“Š ERWARTETES VERHALTEN (MIT ROOT)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

== Starte ==
/home/emil/.local/share/wallet-gui/scripts/hrm_swarm_scanner_wrapper.sh \
  /mnt/mediacenter1/sido --auto-mount \
  /mnt/mediacenter1/sido/volume_disk_2025-10-06-1346.img

>>> Auto-Mount aktiviert, verarbeite Targets...
  â†’ Auto-Mount Image: volume_disk_2025-10-06-1346.img
    âœ“ Loop-Device erstellt: /dev/loop0
    âœ“ Mounten: /dev/loop0 â†’ /tmp/wallet_mount_XX/
    âœ“ Scanning /tmp/wallet_mount_XX/
    
>>> Scanning...
Enumeriere Dateien...
Content-Scan lÃ¤uft...
[Fortschritt...]

>>> Cleanup
    âœ“ Unmount /tmp/wallet_mount_XX/
    âœ“ losetup -d /dev/loop0
    
== Fertig ==
Ergebnisse: /mnt/mediacenter1/sido/_logs/walletscan_YYYYMMDD_HHMMSS/

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 âœ… ZUSAMMENFASSUNG
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Problem: Image-Mount schlÃ¤gt fehl
Ursache: Keine Root-Rechte (Checkbox nicht aktiviert)
LÃ¶sung: â˜‘ "Mit Root (pkexec)" aktivieren
Resultat: Image wird gemountet und gescannt!

ğŸ”¥ WICHTIG:
   FÃ¼r deine 238 GB .img Datei MUSS die Root-Checkbox
   aktiviert sein, sonst funktioniert NICHTS!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
